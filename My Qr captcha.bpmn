<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:collaboration id="Collaboration_1sxobwr">
    <bpmn:participant id="Participant_0znodxy" name="UHub" processRef="Process_1" />
    <bpmn:participant id="Participant_1l00ivx" name="Shopper" processRef="Process_1k4bj0w" />
    <bpmn:messageFlow id="Flow_1v5irh3" sourceRef="Activity_0o2ux98" targetRef="Activity_1yxggrn" />
    <bpmn:messageFlow id="Flow_1q3ffev" sourceRef="Activity_0itylsc" targetRef="Activity_1yxggrn" />
    <bpmn:textAnnotation id="TextAnnotation_0gdbfr2">
      <bpmn:text>Trang loading. Mở trang này khi chưa Verify lần nào / Hoặc lần verify trước đã quá hạn N Hour</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1s8g6pk" associationDirection="None" sourceRef="Activity_1ekwxvx" targetRef="TextAnnotation_0gdbfr2" />
    <bpmn:textAnnotation id="TextAnnotation_1dia1ug">
      <bpmn:text>Verify ở BE</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1xat2wn" associationDirection="None" sourceRef="Activity_1yxggrn" targetRef="TextAnnotation_1dia1ug" />
  </bpmn:collaboration>
  <bpmn:process id="Process_1" isExecutable="false">
    <bpmn:laneSet id="LaneSet_0zdmlu1" />
    <bpmn:task id="Activity_1yxggrn" name="Kiểm tra lịch sử đã tick Captcha thành công trong &#60;N&#62; hour trước đó">
      <bpmn:outgoing>Flow_0m64itm</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_1hh66rm">
      <bpmn:incoming>Flow_0m64itm</bpmn:incoming>
      <bpmn:outgoing>Flow_0omzapt</bpmn:outgoing>
      <bpmn:outgoing>Flow_1141njb</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0m64itm" sourceRef="Activity_1yxggrn" targetRef="Gateway_1hh66rm" />
    <bpmn:sequenceFlow id="Flow_0omzapt" name="Ok: &#60; N Hour" sourceRef="Gateway_1hh66rm" targetRef="Activity_0p28c02" />
    <bpmn:sequenceFlow id="Flow_070ut0r" sourceRef="Activity_1ekwxvx" targetRef="Gateway_157jn9d" />
    <bpmn:sequenceFlow id="Flow_1141njb" name="NOT Ok: &#62; N Hour" sourceRef="Gateway_1hh66rm" targetRef="Activity_1ekwxvx" />
    <bpmn:subProcess id="Activity_1ekwxvx" name="Mở màn hình verify end-user: Verify Captcha background">
      <bpmn:incoming>Flow_1141njb</bpmn:incoming>
      <bpmn:outgoing>Flow_070ut0r</bpmn:outgoing>
      <bpmn:startEvent id="Event_0u5l2ch">
        <bpmn:outgoing>Flow_0xizi7o</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:task id="Activity_0tm3rja" name="Cloudflare Turnstile: Verify end-user dạng ẩn, chạy background">
        <bpmn:incoming>Flow_0xizi7o</bpmn:incoming>
        <bpmn:outgoing>Flow_1fi4ctj</bpmn:outgoing>
      </bpmn:task>
      <bpmn:sequenceFlow id="Flow_0xizi7o" sourceRef="Event_0u5l2ch" targetRef="Activity_0tm3rja" />
      <bpmn:exclusiveGateway id="Gateway_126e2hh">
        <bpmn:incoming>Flow_1fi4ctj</bpmn:incoming>
        <bpmn:outgoing>Flow_0z82emf</bpmn:outgoing>
        <bpmn:outgoing>Flow_1lf23zf</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_1fi4ctj" sourceRef="Activity_0tm3rja" targetRef="Gateway_126e2hh" />
      <bpmn:task id="Activity_0rcd8lj" name="Verify captcha is ok">
        <bpmn:incoming>Flow_0z82emf</bpmn:incoming>
        <bpmn:outgoing>Flow_0zqi4hi</bpmn:outgoing>
      </bpmn:task>
      <bpmn:sequenceFlow id="Flow_0z82emf" name="Ok" sourceRef="Gateway_126e2hh" targetRef="Activity_0rcd8lj" />
      <bpmn:task id="Activity_1o50h99" name="Verify captcha is not Ok">
        <bpmn:incoming>Flow_1lf23zf</bpmn:incoming>
        <bpmn:outgoing>Flow_04f8m6w</bpmn:outgoing>
      </bpmn:task>
      <bpmn:sequenceFlow id="Flow_1lf23zf" name="NOT Ok" sourceRef="Gateway_126e2hh" targetRef="Activity_1o50h99" />
      <bpmn:endEvent id="Event_1918z2z">
        <bpmn:incoming>Flow_0zqi4hi</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0zqi4hi" sourceRef="Activity_0rcd8lj" targetRef="Event_1918z2z" />
      <bpmn:endEvent id="Event_1y25ytm">
        <bpmn:incoming>Flow_04f8m6w</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_04f8m6w" sourceRef="Activity_1o50h99" targetRef="Event_1y25ytm" />
      <bpmn:textAnnotation id="TextAnnotation_0r4xhux">
        <bpmn:text>Cloudflare Turnstile confirms web visitors are real and blocks unwanted bots without slowing down web experiences for real users.</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_0tzfjh2" associationDirection="None" sourceRef="Activity_0tm3rja" targetRef="TextAnnotation_0r4xhux" />
    </bpmn:subProcess>
    <bpmn:exclusiveGateway id="Gateway_157jn9d">
      <bpmn:incoming>Flow_070ut0r</bpmn:incoming>
      <bpmn:outgoing>Flow_0dej81e</bpmn:outgoing>
      <bpmn:outgoing>Flow_1ak7tsq</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0dej81e" name="Verify end-user Ok" sourceRef="Gateway_157jn9d" targetRef="Activity_0p28c02" />
    <bpmn:task id="Activity_0p28c02" name="Mở trang UHub: My QR">
      <bpmn:incoming>Flow_0omzapt</bpmn:incoming>
      <bpmn:incoming>Flow_0dej81e</bpmn:incoming>
      <bpmn:outgoing>Flow_01oefed</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="Event_07kd2tw">
      <bpmn:incoming>Flow_01oefed</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_01oefed" sourceRef="Activity_0p28c02" targetRef="Event_07kd2tw" />
    <bpmn:sequenceFlow id="Flow_1ak7tsq" sourceRef="Gateway_157jn9d" targetRef="Activity_1n13tx0" />
    <bpmn:subProcess id="Activity_1n13tx0" name="Quy trình liên hệ UHub hotline hỗ trợ">
      <bpmn:incoming>Flow_1ak7tsq</bpmn:incoming>
      <bpmn:outgoing>Flow_1uea1m3</bpmn:outgoing>
    </bpmn:subProcess>
    <bpmn:endEvent id="Event_0n1x777">
      <bpmn:incoming>Flow_1uea1m3</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1uea1m3" sourceRef="Activity_1n13tx0" targetRef="Event_0n1x777" />
  </bpmn:process>
  <bpmn:process id="Process_1k4bj0w">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_150o53w</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_0o2ux98" name="Truy cập trang UHub: My QR">
      <bpmn:incoming>Flow_150o53w</bpmn:incoming>
      <bpmn:outgoing>Flow_13ulpyz</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_150o53w" sourceRef="StartEvent_1" targetRef="Activity_0o2ux98" />
    <bpmn:task id="Activity_0itylsc" name="Reload Trang">
      <bpmn:incoming>Flow_13ulpyz</bpmn:incoming>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_13ulpyz" sourceRef="Activity_0o2ux98" targetRef="Activity_0itylsc" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1sxobwr">
      <bpmndi:BPMNShape id="Participant_0znodxy_di" bpmnElement="Participant_0znodxy" isHorizontal="true">
        <dc:Bounds x="123" y="20" width="1017" height="310" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1yxggrn_di" bpmnElement="Activity_1yxggrn">
        <dc:Bounds x="260" y="130" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1hh66rm_di" bpmnElement="Gateway_1hh66rm" isMarkerVisible="true">
        <dc:Bounds x="415" y="145" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_157jn9d_di" bpmnElement="Gateway_157jn9d" isMarkerVisible="true">
        <dc:Bounds x="725" y="205" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0p28c02_di" bpmnElement="Activity_0p28c02">
        <dc:Bounds x="870" y="40" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_07kd2tw_di" bpmnElement="Event_07kd2tw">
        <dc:Bounds x="1072" y="62" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0n1x777_di" bpmnElement="Event_0n1x777">
        <dc:Bounds x="1072" y="212" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_09jjbvt_di" bpmnElement="Activity_1ekwxvx" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="560" y="190" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1x26q9l_di" bpmnElement="Activity_1n13tx0" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="870" y="190" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0m64itm_di" bpmnElement="Flow_0m64itm">
        <di:waypoint x="360" y="170" />
        <di:waypoint x="415" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0omzapt_di" bpmnElement="Flow_0omzapt">
        <di:waypoint x="440" y="145" />
        <di:waypoint x="440" y="80" />
        <di:waypoint x="870" y="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="622" y="81" width="65" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_070ut0r_di" bpmnElement="Flow_070ut0r">
        <di:waypoint x="660" y="230" />
        <di:waypoint x="725" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1141njb_di" bpmnElement="Flow_1141njb">
        <di:waypoint x="440" y="195" />
        <di:waypoint x="440" y="230" />
        <di:waypoint x="560" y="230" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="468" y="203" width="64" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dej81e_di" bpmnElement="Flow_0dej81e">
        <di:waypoint x="750" y="205" />
        <di:waypoint x="750" y="80" />
        <di:waypoint x="870" y="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="762" y="161" width="75" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01oefed_di" bpmnElement="Flow_01oefed">
        <di:waypoint x="970" y="80" />
        <di:waypoint x="1072" y="80" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ak7tsq_di" bpmnElement="Flow_1ak7tsq">
        <di:waypoint x="775" y="230" />
        <di:waypoint x="870" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1uea1m3_di" bpmnElement="Flow_1uea1m3">
        <di:waypoint x="970" y="230" />
        <di:waypoint x="1072" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_1l00ivx_di" bpmnElement="Participant_1l00ivx" isHorizontal="true">
        <dc:Bounds x="123" y="-140" width="1017" height="140" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="173" y="-98" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0o2ux98_di" bpmnElement="Activity_0o2ux98">
        <dc:Bounds x="260" y="-120" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0itylsc_di" bpmnElement="Activity_0itylsc">
        <dc:Bounds x="420" y="-120" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_150o53w_di" bpmnElement="Flow_150o53w">
        <di:waypoint x="209" y="-80" />
        <di:waypoint x="260" y="-80" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13ulpyz_di" bpmnElement="Flow_13ulpyz">
        <di:waypoint x="360" y="-80" />
        <di:waypoint x="420" y="-80" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1s8g6pk_di" bpmnElement="Association_1s8g6pk">
        <di:waypoint x="617" y="270" />
        <di:waypoint x="639" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1xat2wn_di" bpmnElement="Association_1xat2wn">
        <di:waypoint x="319" y="210" />
        <di:waypoint x="357" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1v5irh3_di" bpmnElement="Flow_1v5irh3">
        <di:waypoint x="310" y="-40" />
        <di:waypoint x="310" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0gdbfr2_di" bpmnElement="TextAnnotation_0gdbfr2">
        <dc:Bounds x="592" y="390" width="228" height="55" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1dia1ug_di" bpmnElement="TextAnnotation_1dia1ug">
        <dc:Bounds x="310" y="370" width="100" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1q3ffev_di" bpmnElement="Flow_1q3ffev">
        <di:waypoint x="470" y="-40" />
        <di:waypoint x="470" y="45" />
        <di:waypoint x="330" y="45" />
        <di:waypoint x="330" y="130" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_10bs307">
    <bpmndi:BPMNPlane id="BPMNPlane_07yeloy" bpmnElement="Activity_1ekwxvx">
      <bpmndi:BPMNShape id="Event_0u5l2ch_di" bpmnElement="Event_0u5l2ch">
        <dc:Bounds x="362" y="192" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0tm3rja_di" bpmnElement="Activity_0tm3rja">
        <dc:Bounds x="450" y="170" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_126e2hh_di" bpmnElement="Gateway_126e2hh" isMarkerVisible="true">
        <dc:Bounds x="605" y="185" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0rcd8lj_di" bpmnElement="Activity_0rcd8lj">
        <dc:Bounds x="770" y="170" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1o50h99_di" bpmnElement="Activity_1o50h99">
        <dc:Bounds x="770" y="280" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1918z2z_di" bpmnElement="Event_1918z2z">
        <dc:Bounds x="992" y="192" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1y25ytm_di" bpmnElement="Event_1y25ytm">
        <dc:Bounds x="992" y="302" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0r4xhux_di" bpmnElement="TextAnnotation_0r4xhux">
        <dc:Bounds x="550" y="30" width="300" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0xizi7o_di" bpmnElement="Flow_0xizi7o">
        <di:waypoint x="398" y="210" />
        <di:waypoint x="450" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fi4ctj_di" bpmnElement="Flow_1fi4ctj">
        <di:waypoint x="550" y="210" />
        <di:waypoint x="605" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z82emf_di" bpmnElement="Flow_0z82emf">
        <di:waypoint x="655" y="210" />
        <di:waypoint x="770" y="210" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="706" y="192" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lf23zf_di" bpmnElement="Flow_1lf23zf">
        <di:waypoint x="630" y="235" />
        <di:waypoint x="630" y="320" />
        <di:waypoint x="770" y="320" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="693" y="303" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zqi4hi_di" bpmnElement="Flow_0zqi4hi">
        <di:waypoint x="870" y="210" />
        <di:waypoint x="992" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04f8m6w_di" bpmnElement="Flow_04f8m6w">
        <di:waypoint x="870" y="320" />
        <di:waypoint x="992" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0tzfjh2_di" bpmnElement="Association_0tzfjh2">
        <di:waypoint x="523" y="170" />
        <di:waypoint x="564" y="100" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_04f72mz">
    <bpmndi:BPMNPlane id="BPMNPlane_1pyig45" bpmnElement="Activity_1n13tx0" />
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
